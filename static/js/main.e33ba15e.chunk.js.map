{"version":3,"sources":["components/Weather.js","components/Cards.js","components/Form.js","components/App.js","utils/utils.js","reportWebVitals.js","index.js"],"names":["Weather","props","icon","className","cityName","moment","format","src","alt","description","temp","minMaxTemp","min","max","Math","round","updateLocale","russianLocale","Cards","day","getWeekDay","date","max_temp","min_temp","Form","onSubmit","getWeather","type","placeholder","name","App","React","useState","city","undefined","country","tempMax","tempMin","weatherData","setWeatherData","days","weatherDays","setWeatherDays","e","a","preventDefault","location","target","elements","value","fetch","apiCall","json","response","console","log","list","slice","weatherInfo","dateToIndexMap","forEach","item","index","dt_txt","split","currentDayIndex","Object","keys","length","main","weather","error","map","i","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e33ba15e.chunk.js","sourcesContent":["import React from 'react';\r\nimport moment from 'moment';\r\nimport './Weather.css';\r\n\r\n\r\nconst Weather = (props) => {\r\n    const icon = `http://openweathermap.org/img/wn/${props.icon}@2x.png`;\r\n\r\n    return (\r\n        <div className='card__conteiner'>\r\n            { props.cityName && <p className='card__weather-time'>Сейчас {moment().format('LT')}</p>}\r\n            <div className='card__weather-conteiner'>\r\n                <h1 className='card__city-name'>{props.cityName}</h1>\r\n                {props.cityName && <img className='card__weather-image' src={icon} alt={props.description}></img>}\r\n\r\n                {props.temp ? (\r\n                    <p className='card__weather-temp'>{props.temp}&deg;</p>\r\n                ) : null}\r\n                <p className='card__weather-description'>{props.description}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Weather;","import React from 'react';\r\nimport moment from 'moment';\r\nimport russianLocale from 'moment/locale/ru'\r\nimport './Cards.css';\r\n\r\nmoment.updateLocale('ru', russianLocale);\r\n\r\n\r\nfunction minMaxTemp(min, max) {\r\n    if (max && min) {\r\n        return (\r\n            <h3 className='card__temp'>\r\n                <span className='px-4'>{Math.round(min)}&deg;</span>\r\n                <span className='px-4'>{Math.round(max)}&deg;</span>\r\n            </h3>\r\n        )\r\n    }\r\n}\r\n\r\nconst Cards = (props) => {\r\n    const icon = `http://openweathermap.org/img/wn/${props.day.icon}@2x.png`;\r\n    const getWeekDay = props.day.date;\r\n\r\n    return (\r\n        <div className='card__list'>\r\n            \r\n            <p className='card__date'>{moment(getWeekDay).format('dddd')}</p>\r\n            <p className='card__date'>{moment(getWeekDay).format('MMM Do YY')}</p>\r\n\r\n            <img src={icon} alt='иконка погоды'></img>\r\n\r\n            {minMaxTemp(props.day.max_temp, props.day.min_temp)}\r\n\r\n            <p className='card__description'>{props.day.description}</p>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cards;","import React from 'react';\r\nimport \"./Form.css\";\r\n\r\nfunction Form(props) {\r\n    return (\r\n        <form className='search-form' onSubmit={props.getWeather}>\r\n            <input\r\n                type=\"text\"\r\n                className=\"search-form__input\"\r\n                placeholder=\"City\"\r\n                name=\"city\"\r\n            />\r\n            <button className=\"search-form__button-find\">Get Weather</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form;","import './App.css';\r\nimport React from \"react\"\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport 'weather-icons/css/weather-icons.css'\r\nimport Weather from './Weather'\r\nimport Cards from './Cards'\r\nimport Form from './Form'\r\nimport { API_KEY } from '../utils/utils';\r\n\r\nfunction App() {\r\n\r\n  const [weatherData, setWeatherData] = React.useState({\r\n    city: undefined,\r\n    country: undefined,\r\n    temp: undefined,\r\n    tempMax: undefined,\r\n    tempMin: undefined,\r\n    description: undefined,\r\n    icon: undefined,\r\n  });\r\n\r\n  const [weatherDays, setWeatherDays] = React.useState({ days: [] })\r\n\r\n  const getWeather = async (e) => {\r\n    e.preventDefault()\r\n    const location = e.target.elements.city.value\r\n\r\n    if (location) {\r\n      const apiCall = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${location}&lang=ru&units=metric&APPID=${API_KEY}`)\r\n      const response = await apiCall.json()\r\n      console.log(response)\r\n      const dailyData = response.list.slice(0, 40);\r\n\r\n      let weatherInfo = []\r\n      let dateToIndexMap = {}\r\n\r\n      const newData = response.list.forEach((item, index) => {\r\n        let day = item.dt_txt.split(' ')[0]; // Дата как ключ\r\n        let currentDayIndex = dateToIndexMap[day];\r\n\r\n        if (currentDayIndex == null || currentDayIndex == undefined) {\r\n          currentDayIndex = Object.keys(dateToIndexMap).length;\r\n          dateToIndexMap[day] = currentDayIndex;\r\n        }\r\n        if (weatherInfo[currentDayIndex] == null || weatherInfo[currentDayIndex] == undefined) {  // если у нас нет такого ключа, то создаем\r\n          weatherInfo[currentDayIndex] = { max_temp: -100, min_temp: 100, icon: null, date: day, description: '' }; // \r\n        }\r\n        if (weatherInfo[currentDayIndex].max_temp < item.main.temp) {\r\n          weatherInfo[currentDayIndex].max_temp = item.main.temp;\r\n        }\r\n        if (weatherInfo[currentDayIndex].min_temp > item.main.temp) {\r\n          weatherInfo[currentDayIndex].min_temp = item.main.temp;\r\n        }\r\n        if (weatherInfo[currentDayIndex].description == '') { //\r\n          weatherInfo[currentDayIndex].description = item.weather[0].description //\r\n        } //\r\n        if (item.dt_txt.split(' ')[1] === '12:00:00') {\r\n          weatherInfo[currentDayIndex].icon = item.weather[0].icon\r\n          weatherInfo[currentDayIndex].description = item.weather[0].description\r\n        } else if (weatherInfo[currentDayIndex].icon == null) {\r\n          weatherInfo[currentDayIndex].icon = item.weather[0].icon\r\n        }\r\n      });\r\n      console.log(weatherInfo)\r\n\r\n      setWeatherDays({ days: weatherInfo })\r\n\r\n      setWeatherData({\r\n        city: `${response.city.name}, ${response.city.country}`,\r\n        country: response.city.country,\r\n        temp: Math.round(response.list[0].main.temp),\r\n        description: response.list[0].weather[0].description,\r\n        icon: response.list[0].weather[0].icon\r\n      });\r\n    } else console.error();\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <div className='App__image'>\r\n        <Form getWeather={getWeather} />\r\n        <Weather\r\n          cityName={weatherData.city}\r\n          country={weatherData.country}\r\n          temp={weatherData.temp}\r\n          tempMax={weatherData.tempMax}\r\n          tempMin={weatherData.tempMin}\r\n          description={weatherData.description}\r\n          icon={weatherData.icon}\r\n        />\r\n\r\n        <div className='conteiner-cards'>\r\n          {weatherDays.days.map((day, i) => <Cards day={day} key={i} />)}\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export const API_KEY = '30027e883a16a558f45f7e41dda98e31';","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}