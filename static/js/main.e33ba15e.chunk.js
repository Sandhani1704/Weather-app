(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),r=c(6),s=c.n(r),o=(c(14),c(4)),d=c.n(o),p=c(7),m=c(5),l=(c(16),c(17),c(18),c(2)),u=c.n(l),h=(c(20),function(e){var t="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png");return Object(n.jsxs)("div",{className:"card__conteiner",children:[e.cityName&&Object(n.jsxs)("p",{className:"card__weather-time",children:["\u0421\u0435\u0439\u0447\u0430\u0441 ",u()().format("LT")]}),Object(n.jsxs)("div",{className:"card__weather-conteiner",children:[Object(n.jsx)("h1",{className:"card__city-name",children:e.cityName}),e.cityName&&Object(n.jsx)("img",{className:"card__weather-image",src:t,alt:e.description}),e.temp?Object(n.jsxs)("p",{className:"card__weather-temp",children:[e.temp,"\xb0"]}):null,Object(n.jsx)("p",{className:"card__weather-description",children:e.description})]})]})}),j=c(8),x=c.n(j);c(21);function _(e,t){if(t&&e)return Object(n.jsxs)("h3",{className:"card__temp",children:[Object(n.jsxs)("span",{className:"px-4",children:[Math.round(e),"\xb0"]}),Object(n.jsxs)("span",{className:"px-4",children:[Math.round(t),"\xb0"]})]})}u.a.updateLocale("ru",x.a);var b=function(e){var t="http://openweathermap.org/img/wn/".concat(e.day.icon,"@2x.png"),c=e.day.date;return Object(n.jsxs)("div",{className:"card__list",children:[Object(n.jsx)("p",{className:"card__date",children:u()(c).format("dddd")}),Object(n.jsx)("p",{className:"card__date",children:u()(c).format("MMM Do YY")}),Object(n.jsx)("img",{src:t,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b"}),_(e.day.max_temp,e.day.min_temp),Object(n.jsx)("p",{className:"card__description",children:e.day.description})]})};c(22);var f=function(e){return Object(n.jsxs)("form",{className:"search-form",onSubmit:e.getWeather,children:[Object(n.jsx)("input",{type:"text",className:"search-form__input",placeholder:"City",name:"city"}),Object(n.jsx)("button",{className:"search-form__button-find",children:"Get Weather"})]})};var y=function(){var e=i.a.useState({city:void 0,country:void 0,temp:void 0,tempMax:void 0,tempMin:void 0,description:void 0,icon:void 0}),t=Object(m.a)(e,2),c=t[0],a=t[1],r=i.a.useState({days:[]}),s=Object(m.a)(r,2),o=s[0],l=s[1],u=function(){var e=Object(p.a)(d.a.mark((function e(t){var c,n,i,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(c=t.target.elements.city.value)){e.next=19;break}return e.next=5,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(c,"&lang=ru&units=metric&APPID=").concat("30027e883a16a558f45f7e41dda98e31"));case 5:return n=e.sent,e.next=8,n.json();case 8:i=e.sent,console.log(i),i.list.slice(0,40),r=[],s={},i.list.forEach((function(e,t){var c=e.dt_txt.split(" ")[0],n=s[c];null!=n&&void 0!=n||(n=Object.keys(s).length,s[c]=n),null!=r[n]&&void 0!=r[n]||(r[n]={max_temp:-100,min_temp:100,icon:null,date:c,description:""}),r[n].max_temp<e.main.temp&&(r[n].max_temp=e.main.temp),r[n].min_temp>e.main.temp&&(r[n].min_temp=e.main.temp),""==r[n].description&&(r[n].description=e.weather[0].description),"12:00:00"===e.dt_txt.split(" ")[1]?(r[n].icon=e.weather[0].icon,r[n].description=e.weather[0].description):null==r[n].icon&&(r[n].icon=e.weather[0].icon)})),console.log(r),l({days:r}),a({city:"".concat(i.city.name,", ").concat(i.city.country),country:i.city.country,temp:Math.round(i.list[0].main.temp),description:i.list[0].weather[0].description,icon:i.list[0].weather[0].icon}),e.next=20;break;case 19:console.error();case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"App__image",children:[Object(n.jsx)(f,{getWeather:u}),Object(n.jsx)(h,{cityName:c.city,country:c.country,temp:c.temp,tempMax:c.tempMax,tempMin:c.tempMin,description:c.description,icon:c.icon}),Object(n.jsx)("div",{className:"conteiner-cards",children:o.days.map((function(e,t){return Object(n.jsx)(b,{day:e},t)}))})]})})},O=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(y,{})}),document.getElementById("root")),O()}},[[23,1,2]]]);
//# sourceMappingURL=main.e33ba15e.chunk.js.map