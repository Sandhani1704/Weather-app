(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,t,c){},16:function(e,t,c){},20:function(e,t,c){},21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(1),i=c.n(a),r=c(6),s=c.n(r),o=(c(14),c(5)),d=c.n(o),m=c(7),p=c(3),l=(c(16),c(17),c(18),c(2)),u=c.n(l),h=(c(20),function(e){var t="http://openweathermap.org/img/wn/".concat(e.icon,"@2x.png");return Object(n.jsxs)("div",{className:"conteiner",children:[e.cityName&&Object(n.jsxs)("p",{className:"card__weather-time",children:["\u0421\u0435\u0439\u0447\u0430\u0441 ",u()().format("LT")]}),Object(n.jsxs)("div",{className:"cards",children:[Object(n.jsx)("h1",{className:"card_city-name",children:e.cityName}),e.cityName&&Object(n.jsx)("img",{className:"weather__image",src:t,alt:e.description}),e.temp?Object(n.jsxs)("p",{className:"weather__temp",children:[e.temp,"\xb0"]}):null,Object(n.jsx)("p",{className:"card__weather-description",children:e.description})]})]})}),j=c(8),b=c.n(j);c(21);function x(e,t){if(t&&e)return Object(n.jsxs)("h3",{className:"card__temp",children:[Object(n.jsxs)("span",{className:"px-4",children:[Math.round(e),"\xb0"]}),Object(n.jsxs)("span",{className:"px-4",children:[Math.round(t),"\xb0"]})]})}u.a.updateLocale("ru",b.a);var f=function(e){var t="http://openweathermap.org/img/wn/".concat(e.day.icon,"@2x.png"),c=e.day.date;return Object(n.jsxs)("div",{className:"card-list",children:[Object(n.jsx)("p",{className:"card__date",children:u()(c).format("dddd")}),Object(n.jsx)("p",{className:"card__date",children:u()(c).format("MMM Do YY")}),Object(n.jsx)("img",{src:t}),x(e.day.max_temp,e.day.min_temp),Object(n.jsx)("p",{className:"card_description",children:e.day.description})]})};c(22);var y=function(e){return Object(n.jsxs)("form",{className:"search-form",onSubmit:e.getWeather,children:[Object(n.jsx)("input",{type:"text",className:"search-form__input",placeholder:"City",name:"city"}),Object(n.jsx)("button",{className:"search-form__button-find",children:"Get Weather"})]})};var w=function(){var e=i.a.useState({city:void 0,country:void 0,temp:void 0,tempMax:void 0,tempMin:void 0,description:void 0,icon:void 0}),t=Object(p.a)(e,2),c=t[0],a=t[1],r=i.a.useState({days:[]}),s=Object(p.a)(r,2),o=s[0],l=s[1],u=i.a.useState({Thunderstorm:"wi-thunderstorm",Drizzle:"wi-sleet",Rain:"wi-storm-showers",Snow:"wi-snow",Atmosphere:"wi-fog",Clear:"wi-day-sunny",Clouds:"wi-day-fog"}),j=Object(p.a)(u,2),b=j[0],x=j[1],w=function(e,t){switch(!0){case t>=200&&t<=232:x({icon:e.Thunderstorm});break;case t>=300&&t<=321:x({icon:e.Drizzle});break;case t>=500&&t<=531:x({icon:e.Rain});break;case t>=600&&t<=622:x({icon:e.Snow});break;case t>=701&&t<=781:x({icon:e.Atmosphere});break;case 800===t:x({icon:e.Clear});break;case t>=801&&t<=804:x({icon:e.Clouds});break;default:x({icon:e.Clear})}},_=function(){var e=Object(m.a)(d.a.mark((function e(t){var c,n,i,r,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(c=t.target.elements.city.value)){e.next=20;break}return e.next=5,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(c,"&lang=ru&units=metric&APPID=").concat("30027e883a16a558f45f7e41dda98e31"));case 5:return n=e.sent,e.next=8,n.json();case 8:i=e.sent,console.log(i),i.list.slice(0,40),r=[],s={},i.list.forEach((function(e,t){var c=e.dt_txt.split(" ")[0],n=s[c];null!=n&&void 0!=n||(n=Object.keys(s).length,s[c]=n),null!=r[n]&&void 0!=r[n]||(r[n]={max_temp:-100,min_temp:100,icon:null,date:c,description:""}),r[n].max_temp<e.main.temp&&(r[n].max_temp=e.main.temp),r[n].min_temp>e.main.temp&&(r[n].min_temp=e.main.temp),""==r[n].description&&(r[n].description=e.weather[0].description),"12:00:00"===e.dt_txt.split(" ")[1]?(r[n].icon=e.weather[0].icon,r[n].description=e.weather[0].description):null==r[n].icon&&(r[n].icon=e.weather[0].icon)})),console.log(r),w(b,i.list[0].weather[0].id),l({days:r}),a({city:"".concat(i.city.name,", ").concat(i.city.country),country:i.city.country,temp:Math.round(i.list[0].main.temp),description:i.list[0].weather[0].description,icon:i.list[0].weather[0].icon}),e.next=21;break;case 20:console.error();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)("div",{className:"App__image",children:[Object(n.jsx)(y,{getWeather:_}),Object(n.jsx)(h,{cityName:c.city,country:c.country,temp:c.temp,tempMax:c.tempMax,tempMin:c.tempMin,description:c.description,icon:c.icon}),Object(n.jsx)("div",{className:"conteiner-cards",children:o.days.map((function(e,t){return Object(n.jsx)(f,{day:e},t)}))})]})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,24)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.getElementById("root")),_()}},[[23,1,2]]]);
//# sourceMappingURL=main.736c2219.chunk.js.map